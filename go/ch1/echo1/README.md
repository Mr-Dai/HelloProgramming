# 命令行参数 - 1

在这一部分中，我们将学习如何读取命令行参数。示例代码如下：

```go
package main

import (
	"fmt"
	"os"
)

// Echo1 prints its command-line arguments.
func main() {
	var s, sep string
	for i := 1; i < len(os.Args); i++ {
		s += sep + os.Args[i]
		sep = " "
	}
	fmt.Println(s)
}
```

`echo1` 能够在标准输出中打印运行时传入的所有命令行参数：

```bash
$ go run echo1.go hello world!
hello world!
```

首先，我们引入了除 `fmt` 以外的另一个包：`os`。这个包所提供的 API 
使我们能够以平台无关的方式与操作系统（**O**perating **S**ystem）打交道。

我们通过 `os.Arg` 变量访问到了程序运行时传入的命令行参数。该变量实际上是一个字符串**切片**（Slice
，可理解为一个不可变的数组），其中第一个元素（`os.Arg[0]`）与 C 语言类似，是命令的名称，
从第二个元素开始才是实际的命令行参数。
和 Python 类似，在 Go 中我们也可以使用 `len(s)` 函数来获取切片的长度，通过中括号表达式 `s[i]`
来获取指定的元素。

在 `main` 函数的第一行，程序声明了两个字符串变量，`s` 和 `seq`。变量的声明使用了 `var` 关键字，
并在变量名列表后指定声明变量的类型。

之后是一个 `for` 循环。Go 语言的 `for` 循环与 Java 或 C/C++ 的 `for` 循环有类似的结构，
不同点在于其不需要在循环条件处使用括号包裹，且循环体必须使用大括号包裹，无论循环体是否只有一行。

值得注意的是，Go 语言中没有 `while` 循环，均采用 `for` 循环替代。通过省略 `for`
循环的初始化语句和迭代后操作语句即可用 `for` 编写出类似其他语言中 `while` 循环的代码结构，形如下：

```go
for i > 10 {
    // do something
}
```

在 Go 语言中，甚至连 `for` 循环的条件语句都能被省略，成为一个无限循环，形如下：

```go
for {
    // do something
}
```

除此之外，示例代码的 `for` 循环初始化语句中出现了 `i := 1` 表达式。`:=`
运算符可用于对变量进行快速声明。在这样的**短变量声明**语句（Short Variable Declaration）中，
`var` 关键字和变量类型可以被省略，变量的类型会自动根据所指定的初始值推导而出。
不过，短声明语句只可用于函数体内，在函数外声明包变量时无法使用这种写法。

`for` 循环体中出现的的几个运算符的作用对大部分学习过其他编程语言的读者应该不陌生，这里我就简单列举一下：

- `+=` 运算符可将左侧变量的值与右值进行 `+` 运算的结果赋值给左侧的变量
- 字符串的 `+` 运算代表字符串拼接
- `++` 运算即自增运算，效果等同于 `+= 1`

[<- 返回上一节](../hello/) [进入下一节 ->](../echo2/)
